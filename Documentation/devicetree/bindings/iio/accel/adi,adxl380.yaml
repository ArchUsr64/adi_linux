# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/iio/accel/adi,adxl380.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Analog Devices ADXL380/382 3-Axis Digital Accelerometer

maintainers:
  - Ramona Gradinariu <ramona.gradinariu@analog.com>

description: |
  The ADXL380/ADXL382 is a low noise density, low power, 3-axis
  accelerometer with selectable measurement ranges. The ADXL380
  supports the ±4 g, ±8 g, and ±16 g ranges, and the ADXL382 supports
  ±15 g, ±30 g, and ±60 g ranges.
  The ADXL380/ADXL382 offers industry leading noise, enabling precision
  applications with minimal calibration. The low noise, and low power
  ADXL380/ADXL382 enables accurate measurement in an environment with
  high vibration, heart sounds and audio.

  In addition to its low power consumption, the ADXL380/ADXL382 has
  many features to enable true system level performance. These
  include a built-in micropower temperature sensor, single / double /
  triple tap detection and a state machine to prevent a false
  triggering. In addition, the ADXL380/ADXL382 has provisions for
  external control of the sampling time and/or an external clock.

    https://www.analog.com/en/products/adxl380.html

properties:
  compatible:
    enum:
      - adi,adxl380
      - adi,adxl382

  reg:
    maxItems: 1

  interrupts:
    maxItems: 1

required:
  - compatible
  - reg
  - interrupts

allOf:
  - $ref: /schemas/spi/spi-peripheral-props.yaml#

unevaluatedProperties: false

examples:
  - |
    #include <dt-bindings/interrupt-controller/irq.h>

    i2c {
      #address-cells = <1>;
      #size-cells = <0>;

      accelerometer@54 {
        compatible = "adi,adxl380";
        reg = <0x54>;
        interrupt-parent = <&gpio>;
        interrupts = <25 IRQ_TYPE_LEVEL_HIGH>;
      };
    };
  - |
    #include <dt-bindings/interrupt-controller/irq.h>

    spi {
      #address-cells = <1>;
      #size-cells = <0>;

      accelerometer@0 {
        compatible = "adi,adxl380";
        reg = <0>;
        spi-max-frequency = <8000000>;
        interrupt-parent = <&gpio>;
        interrupts = <25 IRQ_TYPE_LEVEL_HIGH>;
      };
    };
